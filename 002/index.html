
<body>
    <div>
        <div id="field">
        </div>
    </div>

<script>

let world = {
    min: { x: -1, y: -1 },
    max: { x:  1, y:  1 }
}

let ship1 = {
    direction: 0,
    thrust: { x: 0, y: 0},
    location: { x: -0.5, y: 0 }
}

let ship2 = {
    direction: 0,
    thrust: { x: 0, y: 0},
    location: { x: 0.5, y: 0 }
}

let sun = {
    gravity: 1.0,
    location: { x: 0, y: 0 }
}

const twoPI = Math.PI*2
const rotateIncrement = twoPI / 360 // one degree rotations
const thrustIncrement = 1
// TODO check: sin and cos may be flipped
const thrust = (o) => o.thrust = {
    x: o.thrust.x + Math.sin(o.direction)*thrustIncrement,
    y: o.thrust.y + Math.cos(o.direction)*thrustIncrement
}
const rotateLeft = (o) => o.direction = (o.direction + twoPI - rotateIncrement) % twoPI
const rotateRight = (o) => o.direction = (o.direction + rotateIncrement) % twoPI

const handler = function(e) {
    switch(e.code) {
case "KeyA": thrust(ship1); break
case "KeyQ": rotateLeft(ship1); break
case "KeyZ": rotateRight(ship1); break
case "ShiftLeft": fire(ship1); break
case "Quote": thrust(ship2); break
case "Slash": rotateLeft(ship2); break
case "BracketRight": rotateRight(ship2); break
case "ShiftRight": fire(ship2); break
    }
}

</script>
</body>

